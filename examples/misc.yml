flows:
- reader:
    generator:
      fields:
        name: rockBand.name
  writers:
  - redis:
      keyspace: rockBands
      type: suggest
      suggest:
        field: name
- reader:
    generator:
      fields:
        name: beer.name
        style: beer.style
        hop: beer.hop
  writers:
  - redis:
      keyspace: beers
      keys: name
  - redis:
      keyspace: beerNames
      type: suggest
      suggest:
        field: name
  - redis:
      keyspace: beerStyles
      type: suggest
      suggest:
        field: style
  - redis:
      keyspace: beerHops
      type: suggest
      suggest:
        field: hop
- reader:
    generator:
      fields:
        fact: chuckNorris.fact
  writers:
  - redis:
      keyspace: chuckNorrisFactsIdx
      keys: fact
      type: search
      search:
        drop: true
        schema:
        - name: fact
          type: text